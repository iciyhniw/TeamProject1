{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\iciyhniw\\\\WebstormProjects\\\\TeamProject3\\\\jamendo-player\\\\src\\\\components\\\\AudioPlayer.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { FaPlay, FaPause, FaStepForward, FaStepBackward, FaVolumeUp, FaVolumeMute } from 'react-icons/fa';\nimport '../styles/AudioPlayer.css';\nimport { doc, setDoc, deleteDoc, getDoc, collection } from 'firebase/firestore';\nimport { auth, db } from '../firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AudioPlayer = ({\n  track,\n  onTrackEnd\n}) => {\n  _s();\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [volume, setVolume] = useState(1);\n  const [isMuted, setIsMuted] = useState(false);\n  const [isLiked, setIsLiked] = useState(false);\n  const [isShuffle, setIsShuffle] = useState(false);\n  const [isRepeat, setIsRepeat] = useState(false);\n  const audioRef = useRef(null);\n  const [currentTrackIndex, setCurrentTrackIndex] = useState(0);\n  const [playlist, setPlaylist] = useState([]);\n  useEffect(() => {\n    if (track) {\n      setPlaylist(prevPlaylist => {\n        const newPlaylist = [...prevPlaylist];\n        const existingIndex = newPlaylist.findIndex(t => t.id === track.id);\n        if (existingIndex === -1) {\n          newPlaylist.push(track);\n          setCurrentTrackIndex(newPlaylist.length - 1);\n        } else {\n          setCurrentTrackIndex(existingIndex);\n        }\n        return newPlaylist;\n      });\n    }\n  }, [track]);\n  useEffect(() => {\n    if (!audioRef.current) return;\n    const playAudio = async () => {\n      try {\n        if (isPlaying) {\n          await audioRef.current.play();\n        } else {\n          audioRef.current.pause();\n        }\n      } catch (error) {\n        console.error('Playback error:', error);\n        setIsPlaying(false);\n      }\n    };\n    playAudio();\n  }, [isPlaying, currentTrackIndex]);\n  useEffect(() => {\n    const checkLiked = async () => {\n      if (!track || !auth.currentUser) return;\n      try {\n        const ref = doc(db, 'likedSongs', auth.currentUser.uid, 'songs', track.id);\n        const docSnap = await getDoc(ref);\n        setIsLiked(docSnap.exists());\n      } catch (err) {\n        console.error('Error checking liked status:', err);\n      }\n    };\n    checkLiked();\n  }, [track]);\n  const handleTimeUpdate = () => {\n    if (audioRef.current) {\n      setCurrentTime(audioRef.current.currentTime);\n    }\n  };\n  const handleLoadedMetadata = () => {\n    if (audioRef.current) {\n      setDuration(audioRef.current.duration);\n    }\n  };\n  const handleProgressChange = e => {\n    const time = parseFloat(e.target.value);\n    setCurrentTime(time);\n    if (audioRef.current) {\n      audioRef.current.currentTime = time;\n    }\n  };\n  const handleVolumeChange = e => {\n    const newVolume = parseFloat(e.target.value);\n    setVolume(newVolume);\n    if (audioRef.current) {\n      audioRef.current.volume = newVolume;\n    }\n    setIsMuted(newVolume === 0);\n  };\n  const toggleMute = () => {\n    if (audioRef.current) {\n      if (isMuted) {\n        audioRef.current.volume = volume;\n        setIsMuted(false);\n      } else {\n        audioRef.current.volume = 0;\n        setIsMuted(true);\n      }\n    }\n  };\n  const togglePlay = async () => {\n    try {\n      if (isPlaying) {\n        await audioRef.current.pause();\n      } else {\n        await audioRef.current.play();\n      }\n      setIsPlaying(!isPlaying);\n    } catch (error) {\n      console.error('Error toggling play:', error);\n    }\n  };\n  const handleEnded = () => {\n    if (isRepeat) {\n      if (audioRef.current) {\n        audioRef.current.currentTime = 0;\n        audioRef.current.play();\n      }\n    } else if (currentTrackIndex < playlist.length - 1) {\n      setCurrentTrackIndex(prev => prev + 1);\n    } else {\n      setIsPlaying(false);\n      setCurrentTime(0);\n      if (onTrackEnd) {\n        onTrackEnd();\n      }\n    }\n  };\n  const handleNext = () => {\n    if (currentTrackIndex < playlist.length - 1) {\n      setCurrentTrackIndex(prev => prev + 1);\n      setIsPlaying(true);\n    }\n  };\n  const handlePrevious = () => {\n    if (currentTrackIndex > 0) {\n      setCurrentTrackIndex(prev => prev - 1);\n      setIsPlaying(true);\n    }\n  };\n  const formatTime = time => {\n    const minutes = Math.floor(time / 60);\n    const seconds = Math.floor(time % 60);\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n  };\n  const currentTrack = playlist[currentTrackIndex];\n  const handleLike = async () => {\n    if (!track || !auth.currentUser) return;\n    const trackRef = doc(db, 'likedSongs', auth.currentUser.uid, 'songs', track.id);\n    try {\n      if (!isLiked) {\n        await setDoc(trackRef, {\n          name: track.name,\n          artist_name: track.artist_name,\n          audio: track.audio,\n          image: track.image || track.album_image\n        });\n        setIsLiked(true);\n      } else {\n        await deleteDoc(trackRef);\n        setIsLiked(false);\n      }\n    } catch (error) {\n      console.error('Failed to toggle like:', error);\n    }\n  };\n  const handleShare = async () => {\n    if (!currentTrack) return;\n    const shareText = `Ð¡Ð»ÑƒÑ…Ð°Ð¹ \"${currentTrack.name}\" Ð²Ñ–Ð´ ${currentTrack.artist_name}! ðŸŽµ\\n${window.location.href}?track=${encodeURIComponent(currentTrack.audio)}`;\n    if (navigator.share) {\n      try {\n        await navigator.share({\n          title: `${currentTrack.name} - ${currentTrack.artist_name}`,\n          text: `Ð¡Ð»ÑƒÑ…Ð°Ð¹ Ñ†ÑŽ Ð¿Ñ–ÑÐ½ÑŽ!`,\n          url: window.location.href\n        });\n      } catch (error) {\n        console.log('ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ° Ð¿Ð¾Ð´Ñ–Ð»Ñƒ:', error);\n      }\n    } else {\n      navigator.clipboard.writeText(shareText).then(() => alert('ÐŸÐ¾ÑÐ¸Ð»Ð°Ð½Ð½Ñ Ð½Ð° Ð¿Ñ–ÑÐ½ÑŽ ÑÐºÐ¾Ð¿Ñ–Ð¹Ð¾Ð²Ð°Ð½Ð¾ Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼Ñ–Ð½Ñƒ!')).catch(err => console.error('ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ° ÐºÐ¾Ð¿Ñ–ÑŽÐ²Ð°Ð½Ð½Ñ:', err));\n    }\n  };\n  const handleDownload = async () => {\n    if (!currentTrack || !currentTrack.audio) {\n      alert('ÐÐµÐ¼Ð°Ñ” Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾Ð³Ð¾ Ñ„Ð°Ð¹Ð»Ñƒ Ð´Ð»Ñ Ð·Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶ÐµÐ½Ð½Ñ.');\n      return;\n    }\n    try {\n      const response = await fetch(currentTrack.audio);\n      if (!response.ok) throw new Error(`ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ° Ð·Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶ÐµÐ½Ð½Ñ: ${response.statusText}`);\n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `${currentTrack.name}_${currentTrack.artist_name}.mp3`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      window.URL.revokeObjectURL(url);\n    } catch (error) {\n      console.error('ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ° Ð¿Ñ€Ð¸ Ð·Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶ÐµÐ½Ð½Ñ–:', error);\n      alert('ÐÐµ Ð²Ð´Ð°Ð»Ð¾ÑÑ Ð·Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶Ð¸Ñ‚Ð¸ Ð¿Ñ–ÑÐ½ÑŽ.');\n    }\n  };\n  const toggleShuffle = () => {\n    setIsShuffle(!isShuffle);\n  };\n  const toggleRepeat = () => {\n    setIsRepeat(!isRepeat);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"audio-player\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"player-main\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"track-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: (currentTrack === null || currentTrack === void 0 ? void 0 : currentTrack.name) || 'No track selected'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: (currentTrack === null || currentTrack === void 0 ? void 0 : currentTrack.artist_name) || ''\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n        ref: audioRef,\n        src: currentTrack === null || currentTrack === void 0 ? void 0 : currentTrack.audio,\n        onTimeUpdate: handleTimeUpdate,\n        onLoadedMetadata: handleLoadedMetadata,\n        onEnded: handleEnded\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"time\",\n          children: formatTime(currentTime)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"range\",\n          min: \"0\",\n          max: duration || 0,\n          value: currentTime,\n          onChange: handleProgressChange,\n          className: \"progress-bar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"time\",\n          children: formatTime(duration)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `control-button shuffle ${isShuffle ? 'active' : ''}`,\n          onClick: toggleShuffle,\n          title: \"Shuffle\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-random\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"control-button previous\",\n          onClick: handlePrevious,\n          title: \"Previous\",\n          children: /*#__PURE__*/_jsxDEV(FaStepBackward, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"control-button play-pause\",\n          onClick: togglePlay,\n          title: isPlaying ? 'Pause' : 'Play',\n          children: isPlaying ? /*#__PURE__*/_jsxDEV(FaPause, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 26\n          }, this) : /*#__PURE__*/_jsxDEV(FaPlay, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 40\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"control-button next\",\n          onClick: handleNext,\n          title: \"Next\",\n          children: /*#__PURE__*/_jsxDEV(FaStepForward, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `control-button repeat ${isRepeat ? 'active' : ''}`,\n          onClick: toggleRepeat,\n          title: \"Repeat\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-redo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"player-actions\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `action-button like ${isLiked ? 'active' : ''}`,\n        onClick: handleLike,\n        title: isLiked ? 'Remove from playlist' : 'Add to playlist',\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-heart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"action-button share\",\n        onClick: handleShare,\n        title: \"Share\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-share-alt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"action-button download\",\n        onClick: handleDownload,\n        title: \"Download\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-download\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"volume-control\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"action-button volume\",\n          onClick: toggleMute,\n          title: isMuted ? 'Unmute' : 'Mute',\n          children: isMuted ? /*#__PURE__*/_jsxDEV(FaVolumeMute, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 24\n          }, this) : /*#__PURE__*/_jsxDEV(FaVolumeUp, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 43\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"range\",\n          min: \"0\",\n          max: \"1\",\n          step: \"0.01\",\n          value: volume,\n          onChange: handleVolumeChange,\n          className: \"volume-slider\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 247,\n    columnNumber: 5\n  }, this);\n};\n_s(AudioPlayer, \"Tn5R+Io0un94lXTYxXyWyoZ2SAU=\");\n_c = AudioPlayer;\nexport default AudioPlayer;\nvar _c;\n$RefreshReg$(_c, \"AudioPlayer\");","map":{"version":3,"names":["React","useState","useRef","useEffect","FaPlay","FaPause","FaStepForward","FaStepBackward","FaVolumeUp","FaVolumeMute","doc","setDoc","deleteDoc","getDoc","collection","auth","db","jsxDEV","_jsxDEV","AudioPlayer","track","onTrackEnd","_s","isPlaying","setIsPlaying","currentTime","setCurrentTime","duration","setDuration","volume","setVolume","isMuted","setIsMuted","isLiked","setIsLiked","isShuffle","setIsShuffle","isRepeat","setIsRepeat","audioRef","currentTrackIndex","setCurrentTrackIndex","playlist","setPlaylist","prevPlaylist","newPlaylist","existingIndex","findIndex","t","id","push","length","current","playAudio","play","pause","error","console","checkLiked","currentUser","ref","uid","docSnap","exists","err","handleTimeUpdate","handleLoadedMetadata","handleProgressChange","e","time","parseFloat","target","value","handleVolumeChange","newVolume","toggleMute","togglePlay","handleEnded","prev","handleNext","handlePrevious","formatTime","minutes","Math","floor","seconds","toString","padStart","currentTrack","handleLike","trackRef","name","artist_name","audio","image","album_image","handleShare","shareText","window","location","href","encodeURIComponent","navigator","share","title","text","url","log","clipboard","writeText","then","alert","catch","handleDownload","response","fetch","ok","Error","statusText","blob","URL","createObjectURL","link","document","createElement","download","body","appendChild","click","removeChild","revokeObjectURL","toggleShuffle","toggleRepeat","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","onTimeUpdate","onLoadedMetadata","onEnded","type","min","max","onChange","onClick","step","_c","$RefreshReg$"],"sources":["C:/Users/iciyhniw/WebstormProjects/TeamProject3/jamendo-player/src/components/AudioPlayer.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { FaPlay, FaPause, FaStepForward, FaStepBackward, FaVolumeUp, FaVolumeMute } from 'react-icons/fa';\r\nimport '../styles/AudioPlayer.css';\r\n\r\nimport { doc, setDoc, deleteDoc, getDoc, collection } from 'firebase/firestore';\r\nimport { auth, db } from '../firebase';\r\n\r\n\r\nconst AudioPlayer = ({ track, onTrackEnd }) => {\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n  const [duration, setDuration] = useState(0);\r\n  const [volume, setVolume] = useState(1);\r\n  const [isMuted, setIsMuted] = useState(false);\r\n  const [isLiked, setIsLiked] = useState(false);\r\n  const [isShuffle, setIsShuffle] = useState(false);\r\n  const [isRepeat, setIsRepeat] = useState(false);\r\n  const audioRef = useRef(null);\r\n  const [currentTrackIndex, setCurrentTrackIndex] = useState(0);\r\n  const [playlist, setPlaylist] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (track) {\r\n      setPlaylist(prevPlaylist => {\r\n        const newPlaylist = [...prevPlaylist];\r\n        const existingIndex = newPlaylist.findIndex(t => t.id === track.id);\r\n        \r\n        if (existingIndex === -1) {\r\n          newPlaylist.push(track);\r\n          setCurrentTrackIndex(newPlaylist.length - 1);\r\n        } else {\r\n          setCurrentTrackIndex(existingIndex);\r\n        }\r\n        \r\n        return newPlaylist;\r\n      });\r\n    }\r\n  }, [track]);\r\n\r\n  useEffect(() => {\r\n    if (!audioRef.current) return;\r\n\r\n    const playAudio = async () => {\r\n      try {\r\n        if (isPlaying) {\r\n          await audioRef.current.play();\r\n        } else {\r\n          audioRef.current.pause();\r\n        }\r\n      } catch (error) {\r\n        console.error('Playback error:', error);\r\n        setIsPlaying(false);\r\n      }\r\n    };\r\n\r\n    playAudio();\r\n  }, [isPlaying, currentTrackIndex]);\r\n\r\n  useEffect(() => {\r\n    const checkLiked = async () => {\r\n      if (!track || !auth.currentUser) return;\r\n      try {\r\n        const ref = doc(db, 'likedSongs', auth.currentUser.uid, 'songs', track.id);\r\n        const docSnap = await getDoc(ref);\r\n        setIsLiked(docSnap.exists());\r\n      } catch (err) {\r\n        console.error('Error checking liked status:', err);\r\n      }\r\n    };\r\n    checkLiked();\r\n  }, [track]);\r\n\r\n\r\n  const handleTimeUpdate = () => {\r\n    if (audioRef.current) {\r\n      setCurrentTime(audioRef.current.currentTime);\r\n    }\r\n  };\r\n\r\n  const handleLoadedMetadata = () => {\r\n    if (audioRef.current) {\r\n      setDuration(audioRef.current.duration);\r\n    }\r\n  };\r\n\r\n  const handleProgressChange = (e) => {\r\n    const time = parseFloat(e.target.value);\r\n    setCurrentTime(time);\r\n    if (audioRef.current) {\r\n      audioRef.current.currentTime = time;\r\n    }\r\n  };\r\n\r\n  const handleVolumeChange = (e) => {\r\n    const newVolume = parseFloat(e.target.value);\r\n    setVolume(newVolume);\r\n    if (audioRef.current) {\r\n      audioRef.current.volume = newVolume;\r\n    }\r\n    setIsMuted(newVolume === 0);\r\n  };\r\n\r\n  const toggleMute = () => {\r\n    if (audioRef.current) {\r\n      if (isMuted) {\r\n        audioRef.current.volume = volume;\r\n        setIsMuted(false);\r\n      } else {\r\n        audioRef.current.volume = 0;\r\n        setIsMuted(true);\r\n      }\r\n    }\r\n  };\r\n\r\n  const togglePlay = async () => {\r\n    try {\r\n      if (isPlaying) {\r\n        await audioRef.current.pause();\r\n      } else {\r\n        await audioRef.current.play();\r\n      }\r\n      setIsPlaying(!isPlaying);\r\n    } catch (error) {\r\n      console.error('Error toggling play:', error);\r\n    }\r\n  };\r\n\r\n  const handleEnded = () => {\r\n    if (isRepeat) {\r\n      if (audioRef.current) {\r\n        audioRef.current.currentTime = 0;\r\n        audioRef.current.play();\r\n      }\r\n    } else if (currentTrackIndex < playlist.length - 1) {\r\n      setCurrentTrackIndex(prev => prev + 1);\r\n    } else {\r\n      setIsPlaying(false);\r\n      setCurrentTime(0);\r\n      if (onTrackEnd) {\r\n        onTrackEnd();\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleNext = () => {\r\n    if (currentTrackIndex < playlist.length - 1) {\r\n      setCurrentTrackIndex(prev => prev + 1);\r\n      setIsPlaying(true);\r\n    }\r\n  };\r\n\r\n  const handlePrevious = () => {\r\n    if (currentTrackIndex > 0) {\r\n      setCurrentTrackIndex(prev => prev - 1);\r\n      setIsPlaying(true);\r\n    }\r\n  };\r\n\r\n  const formatTime = (time) => {\r\n    const minutes = Math.floor(time / 60);\r\n    const seconds = Math.floor(time % 60);\r\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  const currentTrack = playlist[currentTrackIndex];\r\n\r\n  const handleLike = async () => {\r\n    if (!track || !auth.currentUser) return;\r\n\r\n    const trackRef = doc(db, 'likedSongs', auth.currentUser.uid, 'songs', track.id);\r\n\r\n    try {\r\n      if (!isLiked) {\r\n        await setDoc(trackRef, {\r\n          name: track.name,\r\n          artist_name: track.artist_name,\r\n          audio: track.audio,\r\n          image: track.image || track.album_image\r\n        });\r\n        setIsLiked(true);\r\n      } else {\r\n        await deleteDoc(trackRef);\r\n        setIsLiked(false);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to toggle like:', error);\r\n    }\r\n  };\r\n\r\n\r\n  const handleShare = async () => {\r\n    if (!currentTrack) return;\r\n\r\n    const shareText = `Ð¡Ð»ÑƒÑ…Ð°Ð¹ \"${currentTrack.name}\" Ð²Ñ–Ð´ ${currentTrack.artist_name}! ðŸŽµ\\n${window.location.href}?track=${encodeURIComponent(currentTrack.audio)}`;\r\n\r\n    if (navigator.share) {\r\n      try {\r\n        await navigator.share({\r\n          title: `${currentTrack.name} - ${currentTrack.artist_name}`,\r\n          text: `Ð¡Ð»ÑƒÑ…Ð°Ð¹ Ñ†ÑŽ Ð¿Ñ–ÑÐ½ÑŽ!`,\r\n          url: window.location.href,\r\n        });\r\n      } catch (error) {\r\n        console.log('ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ° Ð¿Ð¾Ð´Ñ–Ð»Ñƒ:', error);\r\n      }\r\n    } else {\r\n      navigator.clipboard.writeText(shareText)\r\n        .then(() => alert('ÐŸÐ¾ÑÐ¸Ð»Ð°Ð½Ð½Ñ Ð½Ð° Ð¿Ñ–ÑÐ½ÑŽ ÑÐºÐ¾Ð¿Ñ–Ð¹Ð¾Ð²Ð°Ð½Ð¾ Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼Ñ–Ð½Ñƒ!'))\r\n        .catch((err) => console.error('ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ° ÐºÐ¾Ð¿Ñ–ÑŽÐ²Ð°Ð½Ð½Ñ:', err));\r\n    }\r\n  };\r\n\r\n  const handleDownload = async () => {\r\n    if (!currentTrack || !currentTrack.audio) {\r\n      alert('ÐÐµÐ¼Ð°Ñ” Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾Ð³Ð¾ Ñ„Ð°Ð¹Ð»Ñƒ Ð´Ð»Ñ Ð·Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶ÐµÐ½Ð½Ñ.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(currentTrack.audio);\r\n      if (!response.ok) throw new Error(`ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ° Ð·Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶ÐµÐ½Ð½Ñ: ${response.statusText}`);\r\n      \r\n      const blob = await response.blob();\r\n      const url = window.URL.createObjectURL(blob);\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.download = `${currentTrack.name}_${currentTrack.artist_name}.mp3`;\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      window.URL.revokeObjectURL(url);\r\n    } catch (error) {\r\n      console.error('ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ° Ð¿Ñ€Ð¸ Ð·Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶ÐµÐ½Ð½Ñ–:', error);\r\n      alert('ÐÐµ Ð²Ð´Ð°Ð»Ð¾ÑÑ Ð·Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶Ð¸Ñ‚Ð¸ Ð¿Ñ–ÑÐ½ÑŽ.');\r\n    }\r\n  };\r\n\r\n  const toggleShuffle = () => {\r\n    setIsShuffle(!isShuffle);\r\n  };\r\n\r\n  const toggleRepeat = () => {\r\n    setIsRepeat(!isRepeat);\r\n  };\r\n\r\n  return (\r\n    <div className=\"audio-player\">\r\n      <div className=\"player-main\">\r\n        <div className=\"track-info\">\r\n          <h4>{currentTrack?.name || 'No track selected'}</h4>\r\n          <p>{currentTrack?.artist_name || ''}</p>\r\n        </div>\r\n        \r\n        <audio\r\n          ref={audioRef}\r\n          src={currentTrack?.audio}\r\n          onTimeUpdate={handleTimeUpdate}\r\n          onLoadedMetadata={handleLoadedMetadata}\r\n          onEnded={handleEnded}\r\n        />\r\n\r\n        <div className=\"progress-container\">\r\n          <span className=\"time\">{formatTime(currentTime)}</span>\r\n          <input\r\n            type=\"range\"\r\n            min=\"0\"\r\n            max={duration || 0}\r\n            value={currentTime}\r\n            onChange={handleProgressChange}\r\n            className=\"progress-bar\"\r\n          />\r\n          <span className=\"time\">{formatTime(duration)}</span>\r\n        </div>\r\n\r\n        <div className=\"controls\">\r\n          <button \r\n            className={`control-button shuffle ${isShuffle ? 'active' : ''}`}\r\n            onClick={toggleShuffle}\r\n            title=\"Shuffle\"\r\n          >\r\n            <i className=\"fas fa-random\"></i>\r\n          </button>\r\n          \r\n          <button \r\n            className=\"control-button previous\"\r\n            onClick={handlePrevious}\r\n            title=\"Previous\"\r\n          >\r\n            <FaStepBackward />\r\n          </button>\r\n          \r\n          <button \r\n            className=\"control-button play-pause\"\r\n            onClick={togglePlay}\r\n            title={isPlaying ? 'Pause' : 'Play'}\r\n          >\r\n            {isPlaying ? <FaPause /> : <FaPlay />}\r\n          </button>\r\n          \r\n          <button \r\n            className=\"control-button next\"\r\n            onClick={handleNext}\r\n            title=\"Next\"\r\n          >\r\n            <FaStepForward />\r\n          </button>\r\n          \r\n          <button \r\n            className={`control-button repeat ${isRepeat ? 'active' : ''}`}\r\n            onClick={toggleRepeat}\r\n            title=\"Repeat\"\r\n          >\r\n            <i className=\"fas fa-redo\"></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"player-actions\">\r\n        <button \r\n          className={`action-button like ${isLiked ? 'active' : ''}`}\r\n          onClick={handleLike}\r\n          title={isLiked ? 'Remove from playlist' : 'Add to playlist'}\r\n        >\r\n          <i className=\"fas fa-heart\"></i>\r\n        </button>\r\n        \r\n        <button \r\n          className=\"action-button share\"\r\n          onClick={handleShare}\r\n          title=\"Share\"\r\n        >\r\n          <i className=\"fas fa-share-alt\"></i>\r\n        </button>\r\n        \r\n        <button \r\n          className=\"action-button download\"\r\n          onClick={handleDownload}\r\n          title=\"Download\"\r\n        >\r\n          <i className=\"fas fa-download\"></i>\r\n        </button>\r\n        \r\n        <div className=\"volume-control\">\r\n          <button \r\n            className=\"action-button volume\"\r\n            onClick={toggleMute}\r\n            title={isMuted ? 'Unmute' : 'Mute'}\r\n          >\r\n            {isMuted ? <FaVolumeMute /> : <FaVolumeUp />}\r\n          </button>\r\n          <input\r\n            type=\"range\"\r\n            min=\"0\"\r\n            max=\"1\"\r\n            step=\"0.01\"\r\n            value={volume}\r\n            onChange={handleVolumeChange}\r\n            className=\"volume-slider\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AudioPlayer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}