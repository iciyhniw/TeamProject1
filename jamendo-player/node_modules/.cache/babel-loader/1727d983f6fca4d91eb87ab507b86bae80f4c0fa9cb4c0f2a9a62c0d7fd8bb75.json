{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\iciyhniw\\\\WebstormProjects\\\\TeamProject3\\\\jamendo-player\\\\src\\\\components\\\\AudioPlayer.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport '../styles/AudioPlayer.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AudioPlayer = ({\n  track\n}) => {\n  _s();\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [volume, setVolume] = useState(0.5);\n  const [isMuted, setIsMuted] = useState(false);\n  const [isLiked, setIsLiked] = useState(false); // New state for like status\n  const audioRef = useRef(null);\n\n  // Check if the track is already in the playlist on component mount\n  useEffect(() => {\n    if (!track) return;\n    const playlist = JSON.parse(localStorage.getItem('playlist') || '[]');\n    setIsLiked(playlist.some(item => item.audio === track.audio));\n  }, [track]);\n  const togglePlayPause = () => {\n    if (!audioRef.current) return;\n    if (isPlaying) {\n      audioRef.current.pause();\n    } else {\n      audioRef.current.play();\n    }\n    setIsPlaying(!isPlaying);\n  };\n  const handleTimeUpdate = () => {\n    if (!audioRef.current) return;\n    setCurrentTime(audioRef.current.currentTime);\n    setDuration(audioRef.current.duration);\n  };\n  const formatTime = time => {\n    const minutes = Math.floor(time / 60);\n    const seconds = Math.floor(time % 60);\n    return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\n  };\n  const handleSeek = e => {\n    if (!audioRef.current) return;\n    const progressBar = e.currentTarget;\n    const rect = progressBar.getBoundingClientRect();\n    const clickX = e.clientX - rect.left;\n    const percentage = clickX / rect.width;\n    const newTime = percentage * duration;\n    audioRef.current.currentTime = newTime;\n    setCurrentTime(newTime);\n  };\n  const handleVolumeChange = e => {\n    if (!audioRef.current) return;\n    const newVolume = e.target.value;\n    setVolume(newVolume);\n    audioRef.current.volume = newVolume;\n    setIsMuted(newVolume === 0);\n  };\n  const toggleMute = () => {\n    if (!audioRef.current) return;\n    if (isMuted) {\n      audioRef.current.volume = volume;\n      setIsMuted(false);\n    } else {\n      audioRef.current.volume = 0;\n      setIsMuted(true);\n    }\n  };\n  const handleLike = () => {\n    if (!track) return;\n\n    // Get or initialize playlist\n    let playlist = JSON.parse(localStorage.getItem('playlist') || '[]');\n\n    // Check if track is already in playlist\n    const isTrackInPlaylist = playlist.some(item => item.audio === track.audio);\n    if (!isTrackInPlaylist) {\n      // Add track to playlist\n      playlist.push({\n        name: track.name,\n        artist_name: track.artist_name,\n        audio: track.audio\n      });\n      localStorage.setItem('playlist', JSON.stringify(playlist));\n      setIsLiked(true);\n      alert(`–î–æ–¥–∞–Ω–æ \"${track.name}\" –¥–æ –ø–ª–µ–π–ª–∏—Å—Ç–∞!`);\n    } else {\n      // Remove track from playlist\n      playlist = playlist.filter(item => item.audio !== track.audio);\n      localStorage.setItem('playlist', JSON.stringify(playlist));\n      setIsLiked(false);\n      alert(`–í–∏–¥–∞–ª–µ–Ω–æ \"${track.name}\" –∑ –ø–ª–µ–π–ª–∏—Å—Ç–∞!`);\n    }\n  };\n  useEffect(() => {\n    if (!track || !audioRef.current) return;\n    const audio = audioRef.current;\n    audio.volume = isMuted ? 0 : volume;\n    audio.addEventListener('loadedmetadata', () => {\n      setDuration(audio.duration);\n    });\n    return () => {\n      audio.removeEventListener('loadedmetadata', () => {});\n    };\n  }, [track, volume, isMuted]);\n  const progressPercentage = duration ? currentTime / duration * 100 : 0;\n  const handleShare = async () => {\n    if (!track) return;\n    const shareText = `–°–ª—É—Ö–∞–π \"${track.name}\" –≤—ñ–¥ ${track.artist_name}! üéµ\\n${window.location.href}?track=${encodeURIComponent(track.audio)}`;\n    if (navigator.share) {\n      try {\n        await navigator.share({\n          title: `${track.name} - ${track.artist_name}`,\n          text: `–°–ª—É—Ö–∞–π —Ü—é –ø—ñ—Å–Ω—é!`,\n          url: window.location.href\n        });\n        console.log('–ü—ñ—Å–Ω—è —É—Å–ø—ñ—à–Ω–æ –ø–æ–¥—ñ–ª–µ–Ω–∞!');\n      } catch (error) {\n        console.log('–ü–æ–º–∏–ª–∫–∞ –ø–æ–¥—ñ–ª—É:', error);\n      }\n    } else {\n      navigator.clipboard.writeText(shareText).then(() => alert('–ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –ø—ñ—Å–Ω—é —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ –≤ –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É!')).catch(err => console.error('–ü–æ–º–∏–ª–∫–∞ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è:', err));\n    }\n  };\n  const handleDownload = async () => {\n    if (!track || !track.audio) {\n      alert('–ù–µ–º–∞—î –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ —Ñ–∞–π–ª—É –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è.');\n      return;\n    }\n    try {\n      const response = await fetch(track.audio, {\n        method: 'GET',\n        mode: 'cors',\n        headers: {\n          'Accept': 'audio/mpeg'\n        }\n      });\n      if (!response.ok) {\n        throw new Error(`–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è: ${response.statusText}`);\n      }\n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `${track.name}_${track.artist_name}.mp3`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      window.URL.revokeObjectURL(url);\n      alert('–ü—ñ—Å–Ω—è –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è...');\n    } catch (error) {\n      console.error('–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ:', error);\n      alert('–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –ø—ñ—Å–Ω—é. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ URL –∞–±–æ —Å–µ—Ä–≤–µ—Ä–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è.');\n    }\n  };\n  if (!track) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"audio-player\",\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      children: [track.name, \" - \", track.artist_name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n      ref: audioRef,\n      src: track.audio,\n      onTimeUpdate: handleTimeUpdate,\n      onEnded: () => setIsPlaying(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"time\",\n      children: formatTime(currentTime)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `like ${isLiked ? 'liked' : ''}`,\n        onClick: handleLike,\n        children: \"\\u2665\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"previous\",\n        children: \"\\u23EA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"play-pause\",\n        onClick: togglePlayPause,\n        children: isPlaying ? '‚è∏' : '‚ñ∂'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"next\",\n        children: \"\\u23E9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"share\",\n        onClick: handleShare,\n        children: \"\\uD83D\\uDCE4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"download\",\n        onClick: handleDownload,\n        children: \"\\u2B07\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"time\",\n      children: formatTime(duration)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"progress-bar\",\n      onClick: handleSeek,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress\",\n        style: {\n          width: `${progressPercentage}%`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"volume\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"mute-toggle\",\n        onClick: toggleMute,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: isMuted ? 'data:image/jpeg;base64,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' : 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQrZH1o0intPRQLoeZv7Kg_z0eJeBkXwO7USA&s',\n          alt: isMuted ? 'Unmute' : 'Mute',\n          className: \"mute-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"range\",\n        min: \"0\",\n        max: \"1\",\n        step: \"0.01\",\n        value: isMuted ? 0 : volume,\n        onChange: handleVolumeChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 177,\n    columnNumber: 5\n  }, this);\n};\n_s(AudioPlayer, \"HunpO3+eVEqo4t3BmpunIWYSU/Y=\");\n_c = AudioPlayer;\nexport default AudioPlayer;\nvar _c;\n$RefreshReg$(_c, \"AudioPlayer\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","AudioPlayer","track","_s","isPlaying","setIsPlaying","currentTime","setCurrentTime","duration","setDuration","volume","setVolume","isMuted","setIsMuted","isLiked","setIsLiked","audioRef","playlist","JSON","parse","localStorage","getItem","some","item","audio","togglePlayPause","current","pause","play","handleTimeUpdate","formatTime","time","minutes","Math","floor","seconds","handleSeek","e","progressBar","currentTarget","rect","getBoundingClientRect","clickX","clientX","left","percentage","width","newTime","handleVolumeChange","newVolume","target","value","toggleMute","handleLike","isTrackInPlaylist","push","name","artist_name","setItem","stringify","alert","filter","addEventListener","removeEventListener","progressPercentage","handleShare","shareText","window","location","href","encodeURIComponent","navigator","share","title","text","url","console","log","error","clipboard","writeText","then","catch","err","handleDownload","response","fetch","method","mode","headers","ok","Error","statusText","blob","URL","createObjectURL","link","document","createElement","download","body","appendChild","click","removeChild","revokeObjectURL","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","src","onTimeUpdate","onEnded","onClick","style","alt","type","min","max","step","onChange","_c","$RefreshReg$"],"sources":["C:/Users/iciyhniw/WebstormProjects/TeamProject3/jamendo-player/src/components/AudioPlayer.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport '../styles/AudioPlayer.css';\r\n\r\n\r\nconst AudioPlayer = ({ track }) => {\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n  const [duration, setDuration] = useState(0);\r\n  const [volume, setVolume] = useState(0.5);\r\n  const [isMuted, setIsMuted] = useState(false);\r\n  const [isLiked, setIsLiked] = useState(false); // New state for like status\r\n  const audioRef = useRef(null);\r\n\r\n  // Check if the track is already in the playlist on component mount\r\n  useEffect(() => {\r\n    if (!track) return;\r\n    const playlist = JSON.parse(localStorage.getItem('playlist') || '[]');\r\n    setIsLiked(playlist.some(item => item.audio === track.audio));\r\n  }, [track]);\r\n\r\n  const togglePlayPause = () => {\r\n    if (!audioRef.current) return;\r\n    if (isPlaying) {\r\n      audioRef.current.pause();\r\n    } else {\r\n      audioRef.current.play();\r\n    }\r\n    setIsPlaying(!isPlaying);\r\n  };\r\n\r\n  const handleTimeUpdate = () => {\r\n    if (!audioRef.current) return;\r\n    setCurrentTime(audioRef.current.currentTime);\r\n    setDuration(audioRef.current.duration);\r\n  };\r\n\r\n  const formatTime = (time) => {\r\n    const minutes = Math.floor(time / 60);\r\n    const seconds = Math.floor(time % 60);\r\n    return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\r\n  };\r\n\r\n  const handleSeek = (e) => {\r\n    if (!audioRef.current) return;\r\n    const progressBar = e.currentTarget;\r\n    const rect = progressBar.getBoundingClientRect();\r\n    const clickX = e.clientX - rect.left;\r\n    const percentage = clickX / rect.width;\r\n    const newTime = percentage * duration;\r\n    audioRef.current.currentTime = newTime;\r\n    setCurrentTime(newTime);\r\n  };\r\n\r\n  const handleVolumeChange = (e) => {\r\n    if (!audioRef.current) return;\r\n    const newVolume = e.target.value;\r\n    setVolume(newVolume);\r\n    audioRef.current.volume = newVolume;\r\n    setIsMuted(newVolume === 0);\r\n  };\r\n\r\n  const toggleMute = () => {\r\n    if (!audioRef.current) return;\r\n    if (isMuted) {\r\n      audioRef.current.volume = volume;\r\n      setIsMuted(false);\r\n    } else {\r\n      audioRef.current.volume = 0;\r\n      setIsMuted(true);\r\n    }\r\n  };\r\n\r\n  const handleLike = () => {\r\n    if (!track) return;\r\n\r\n    // Get or initialize playlist\r\n    let playlist = JSON.parse(localStorage.getItem('playlist') || '[]');\r\n\r\n    // Check if track is already in playlist\r\n    const isTrackInPlaylist = playlist.some(item => item.audio === track.audio);\r\n\r\n    if (!isTrackInPlaylist) {\r\n      // Add track to playlist\r\n      playlist.push({\r\n        name: track.name,\r\n        artist_name: track.artist_name,\r\n        audio: track.audio\r\n      });\r\n      localStorage.setItem('playlist', JSON.stringify(playlist));\r\n      setIsLiked(true);\r\n      alert(`–î–æ–¥–∞–Ω–æ \"${track.name}\" –¥–æ –ø–ª–µ–π–ª–∏—Å—Ç–∞!`);\r\n    } else {\r\n      // Remove track from playlist\r\n      playlist = playlist.filter(item => item.audio !== track.audio);\r\n      localStorage.setItem('playlist', JSON.stringify(playlist));\r\n      setIsLiked(false);\r\n      alert(`–í–∏–¥–∞–ª–µ–Ω–æ \"${track.name}\" –∑ –ø–ª–µ–π–ª–∏—Å—Ç–∞!`);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!track || !audioRef.current) return;\r\n    const audio = audioRef.current;\r\n    audio.volume = isMuted ? 0 : volume;\r\n    audio.addEventListener('loadedmetadata', () => {\r\n      setDuration(audio.duration);\r\n    });\r\n    return () => {\r\n      audio.removeEventListener('loadedmetadata', () => {});\r\n    };\r\n  }, [track, volume, isMuted]);\r\n\r\n  const progressPercentage = duration ? (currentTime / duration) * 100 : 0;\r\n\r\n  const handleShare = async () => {\r\n    if (!track) return;\r\n\r\n    const shareText = `–°–ª—É—Ö–∞–π \"${track.name}\" –≤—ñ–¥ ${track.artist_name}! üéµ\\n${window.location.href}?track=${encodeURIComponent(track.audio)}`;\r\n\r\n    if (navigator.share) {\r\n      try {\r\n        await navigator.share({\r\n          title: `${track.name} - ${track.artist_name}`,\r\n          text: `–°–ª—É—Ö–∞–π —Ü—é –ø—ñ—Å–Ω—é!`,\r\n          url: window.location.href,\r\n        });\r\n        console.log('–ü—ñ—Å–Ω—è —É—Å–ø—ñ—à–Ω–æ –ø–æ–¥—ñ–ª–µ–Ω–∞!');\r\n      } catch (error) {\r\n        console.log('–ü–æ–º–∏–ª–∫–∞ –ø–æ–¥—ñ–ª—É:', error);\r\n      }\r\n    } else {\r\n      navigator.clipboard.writeText(shareText)\r\n        .then(() => alert('–ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –ø—ñ—Å–Ω—é —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ –≤ –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É!'))\r\n        .catch((err) => console.error('–ü–æ–º–∏–ª–∫–∞ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è:', err));\r\n    }\r\n  };\r\n\r\n  const handleDownload = async () => {\r\n    if (!track || !track.audio) {\r\n      alert('–ù–µ–º–∞—î –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ —Ñ–∞–π–ª—É –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(track.audio, {\r\n        method: 'GET',\r\n        mode: 'cors',\r\n        headers: {\r\n          'Accept': 'audio/mpeg',\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è: ${response.statusText}`);\r\n      }\r\n\r\n      const blob = await response.blob();\r\n      const url = window.URL.createObjectURL(blob);\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.download = `${track.name}_${track.artist_name}.mp3`;\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      window.URL.revokeObjectURL(url);\r\n\r\n      alert('–ü—ñ—Å–Ω—è –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è...');\r\n    } catch (error) {\r\n      console.error('–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ:', error);\r\n      alert('–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –ø—ñ—Å–Ω—é. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ URL –∞–±–æ —Å–µ—Ä–≤–µ—Ä–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è.');\r\n    }\r\n  };\r\n\r\n  if (!track) return null;\r\n\r\n  return (\r\n    <div className=\"audio-player\">\r\n      <h4>\r\n        {track.name} - {track.artist_name}\r\n      </h4>\r\n      <audio\r\n        ref={audioRef}\r\n        src={track.audio}\r\n        onTimeUpdate={handleTimeUpdate}\r\n        onEnded={() => setIsPlaying(false)}\r\n      />\r\n      <span className=\"time\">{formatTime(currentTime)}</span>\r\n      <div className=\"controls\">\r\n        <button className={`like ${isLiked ? 'liked' : ''}`} onClick={handleLike}>‚ô•</button>\r\n        <button className=\"previous\">‚è™</button>\r\n        <button className=\"play-pause\" onClick={togglePlayPause}>\r\n          {isPlaying ? '‚è∏' : '‚ñ∂'}\r\n        </button>\r\n        <button className=\"next\">‚è©</button>\r\n        <button className=\"share\" onClick={handleShare}>üì§</button>\r\n        <button className=\"download\" onClick={handleDownload}>‚¨áÔ∏è</button>\r\n      </div>\r\n      <span className=\"time\">{formatTime(duration)}</span>\r\n      <div className=\"progress-bar\" onClick={handleSeek}>\r\n        <div className=\"progress\" style={{ width: `${progressPercentage}%` }} />\r\n      </div>\r\n      <div className=\"volume\">\r\n        <button className=\"mute-toggle\" onClick={toggleMute}>\r\n          <img\r\n            src={isMuted ? 'data:image/jpeg;base64,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' : 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQrZH1o0intPRQLoeZv7Kg_z0eJeBkXwO7USA&s'}\r\n            alt={isMuted ? 'Unmute' : 'Mute'}\r\n            className=\"mute-icon\"\r\n          />\r\n        </button>\r\n        <input\r\n          type=\"range\"\r\n          min=\"0\"\r\n          max=\"1\"\r\n          step=\"0.01\"\r\n          value={isMuted ? 0 : volume}\r\n          onChange={handleVolumeChange}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AudioPlayer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}